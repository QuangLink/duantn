"use strict";(self.webpackChunkjaguarshop_duantn=self.webpackChunkjaguarshop_duantn||[]).push([[938,532],{7653:function(e,n,t){t.r(n),t.d(n,{GetData:function(){return D},default:function(){return T}});var r=t(9439),i=t(4165),o=t(5861),c=t(2791),s=t(137),a=t(4190),l=t(184),d=function(e){var n=e.item,t=(0,s.pm)(),i=(0,c.useState)([]),o=(0,r.Z)(i,2),d=(o[0],o[1]),u=(0,c.useState)(!1),h=(0,r.Z)(u,2),x=(h[0],h[1]);return(0,c.useEffect)((function(){x(!0),D().then((function(e){d(e),x(!1)})).catch((function(e){t({title:"Something Went Wrong",description:"".concat(e.message),status:"error",duration:3e3,isClosable:!0,variant:"top-accent",position:"top"})}))}),[]),(0,l.jsx)("div",{children:(0,l.jsxs)(a.kC,{border:"1px solid rgb(224, 224, 225)",backgroundColor:"rgb(255, 255, 255)",boxShadow:"rgb(0 0 0 / 6%) 0px 2px 2px",borderRadius:"4px",padding:"16px",marginBottom:"8px",width:"90%",justifyContent:"space-between",marginTop:"20px",children:[(0,l.jsx)(a.xu,{children:(0,l.jsxs)(a.X6,{fontWeight:600,fontSize:"16px",children:["My Cart (",n," Items)"]})}),(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.X6,{fontWeight:600,fontSize:"16px"})})]})})},u=t(4828),h=t(5777),x=t(3728),p=t(1578),g=t(9434),m=(t(8258),t(2388)),f=t(7689),b=t(5292),j=function(e){var n=e.quantity,t=e.cartID,i=e.name,o=e.img,d=e.price,j=e.id,k=e.DeleteRequest,C={cartID:t,quantity:n,name:i,img:o,price:d},y=(0,s.pm)(),w=(0,c.useState)(n),v=(0,r.Z)(w,2),D=v[0],T=v[1],S=(0,g.I0)(),I=(0,f.s0)(),z=new Date;z.setTime(z.getTime()+864e5);var Z=new Array("Ch\u1ee7 Nh\u1eadt","Th\u1ee9 Hai","Th\u1ee9 Ba","Th\u1ee9 T\u01b0","Th\u1ee9 N\u0103m","Th\u1ee9 S\xe1u","Th\u1ee9 B\u1ea3y"),A=new Array("Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"),N=new Date,W=Z[N.getDay()]+" - "+N.getDate(),P=Z[z.getDay()]+" - "+z.getDate()+", "+A[N.getMonth()]+", "+z.getFullYear();return(0,l.jsxs)(a.kC,{className:"",border:"1px solid rgb(224, 224, 225)",flexDirection:"column",width:"90%",boxShadow:"rgb(0 0 0 / 6%) 0px 2px 2px",borderRadius:"4px",children:[(0,l.jsxs)(a.kC,{p:"16px",flexDirection:{base:"column",sm:"column",md:"row",lg:"row",xl:"row","2xl":"row"},justifyContent:{sm:"center",base:"center"},alignItems:{sm:"center",md:"normal",lg:"normal",xl:"normal","2xl":"normal"},gap:{sm:"8px",base:"7px"},children:[(0,l.jsxs)(a.kC,{flexDirection:"column",border:"0px solid blue",justifyContent:"center",alignItems:"center",gap:"2",children:[(0,l.jsx)(a.xu,{children:(0,l.jsx)(u.Ee,{src:o,alt:i,width:"150px"})}),(0,l.jsxs)(a.xu,{display:"flex",gap:"5",children:[(0,l.jsx)(h.zx,{onClick:function(){if(D>1){var e=parseInt(d);T(D-1),S({type:"priceDecrease",payload:e}),m.Z.put("https://duantn-backend.onrender.com/cart/minus/".concat(t),{quantity:D+1}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}},children:"-"}),(0,l.jsx)(h.zx,{backgroundColor:"white",disabled:!0,fontWeight:"bold",children:D}),(0,l.jsx)(h.zx,{onClick:function(){T(D+1);var e=parseInt(d);S({type:"priceIncrease",payload:e}),m.Z.put("https://duantn-backend.onrender.com/cart/plus/".concat(t),{quantity:D+1}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},children:"+"})]})]}),(0,l.jsxs)(a.kC,{flexDirection:"column",border:"0px solid green",textAlign:{sm:"center",md:"left",lg:"left",xl:"left","2xl":"left"},gap:2,children:[(0,l.jsx)(a.X6,{fontSize:"14px",color:" rgb(0, 51, 128)",fontWeight:"600",lineHeight:"1.1",children:i}),(0,l.jsxs)(a.kC,{children:[(0,l.jsx)(x.qVg,{}),(0,l.jsx)(a.X6,{fontSize:"12px",color:"red",children:"D\u1ecbch v\u1ee5/G\xf3i b\u1ea3o h\xe0nh thi\u1ebft b\u1ecb \u0111i\u1ec7n t\u1eed \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho s\u1ea3n ph\u1ea9m n\xe0y"})]})]}),(0,l.jsxs)(a.kC,{flexDirection:"column",textAlign:{sm:"center",md:"right",lg:"right",xl:"right","2xl":"right"},gap:1,fontWeight:"500",children:[(0,l.jsx)(a.X6,{fontSize:"18px",color:"rgb(0, 0, 0)",children:d.toLocaleString("vi-VN",{style:"currency",currency:"VND"})}),(0,l.jsxs)(a.X6,{fontSize:"14px",color:"rgb(21, 150, 124)",lineHeight:"1.5",children:[" ","Giao h\xe0ng mi\u1ec5n ph\xed"]}),(0,l.jsxs)(a.kC,{justifyContent:"flex-end",children:[(0,l.jsx)(p.u5D,{size:20}),(0,l.jsxs)(a.X6,{fontSize:"13px",color:"rgb(0, 51, 128)",lineHeight:"20px",children:["Giao h\xe0ng nhanh: ",W," / ",P]})]}),(0,l.jsx)(a.X6,{fontSize:"12px",color:"rgb(102, 102, 102)"})]})]}),(0,l.jsxs)(a.kC,{justifyContent:"space-between",alignItems:"center",borderTop:"1px solid rgb(224, 224, 225)",fontSize:"13px",fontWeight:"500",background:"transparent",textAlign:"center",children:[(0,l.jsx)(a.xu,{width:"50%",borderRight:"1px solid rgb(224, 224, 225)",children:(0,l.jsx)(h.zx,{backgroundColor:"white",color:" rgb(23, 116, 239)",_hover:"backgroundColor:white",onClick:function(){k(j).then((function(e){y({title:"Delete Item Successfully",status:"success",duration:4e3,isClosable:!0,position:"top"})})).catch((function(e){y({title:"Something Went Wrong",description:"".concat(e.message),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}))},children:"X\xf3a"})}),(0,l.jsx)(a.xu,{width:"50%",children:(0,l.jsx)(h.zx,{backgroundColor:"white",color:" rgb(23, 116, 239)",_hover:"backgroundColor:white",onClick:function(){return function(e){var n={};for(var t in e)"id"!==t&&(n[t]=e[t]);(0,b.postSingleDataWish)(n).then((function(e){I("/whishlist"),y({title:"\u0110\xe3 th\xeam v\xe0o gi\u1ecf h\xe0ng",description:"Product Added",status:"success",duration:3e3,isClosable:!0,variant:"top-accent",position:"top"})})).catch((function(e){y({title:"\u0110\xe3 x\u1ea3y ra l\u1ed7i",description:"".concat(e.message),status:"error",duration:3e3,isClosable:!0,variant:"top-accent",position:"top"})}))}(C)},children:"Th\xeam v\xe0o y\xeau th\xedch"})})]})]},t)},k=t(6737),C=t(8329),y=function(e){var n=e.items,t=e.totalPrice,r=e.paybalPrice,i=e.discount,o=e.setVal,c=e.handleApply,d=((0,g.I0)(),(0,f.s0)()),u=(0,s.pm)();return(0,l.jsxs)("div",{children:[(0,l.jsxs)(a.kC,{flexDirection:"column",backgroundColor:"rgb(255, 255, 255)",gap:"5",padding:"16px",children:[(0,l.jsx)(a.kC,{children:(0,l.jsx)(h.zx,{width:"100%",color:"white",backgroundColor:"red",textAlign:"center",onClick:function(){var e=C.Z.get("userID");0===n?(u({title:"Please login and add items to cart",description:"",status:"success",duration:3e3,isClosable:!0,position:"top"}),setTimeout((function(){d("/Login")}),1500)):(u({title:"Proceed further for checkout",description:"",status:"success",duration:3e3,isClosable:!0,position:"top"}),setTimeout((function(){m.Z.post("https://duantn-backend.onrender.com/order/",{userID:e}).then((function(e){console.log(e)})),d("/checkout")}),1500))},children:"THANH TO\xc1N"})}),(0,l.jsxs)(a.kC,{flexDirection:"column",border:"1px solid rgb(224, 224, 225)",boxShadow:"rgb(0 0 0 / 6%) 0px 2px 2px",borderRadius:"4px",padding:"16px",children:[(0,l.jsx)(a.kC,{children:(0,l.jsx)(a.xu,{marginTop:"20px",width:"100%",children:(0,l.jsxs)(k.BZ,{size:"md",children:[(0,l.jsx)(k.II,{pr:"4.5rem",placeholder:"M\xe3 gi\u1ea3m gi\xe1",onChange:function(e){return o(e.target.value)}}),(0,l.jsx)(k.xH,{width:"4rem",children:(0,l.jsx)(h.zx,{h:"2.30rem",size:"sm",borderRadius:"none",color:"rgb(54,129,240)",backgroundColor:"white",borderLeft:"4px solid rgb(54,129,240)",borderRight:"1px solid rgb(224, 224, 225)",onClick:c,children:"\xc1p d\u1ee5ng"})})]})})}),(0,l.jsx)(a.iz,{width:"90%",marginTop:"20px"}),(0,l.jsx)(a.kC,{flexDirection:"column",gap:"10px",children:(0,l.jsxs)(a.xu,{width:"90%",margin:"auto",marginTop:"20px",children:[(0,l.jsx)(a.xv,{fontWeight:"bold",textAlign:"left",children:"TH\xd4NG TIN GI\xc1"}),(0,l.jsxs)(a.kC,{justifyContent:"space-between",children:[(0,l.jsxs)(a.xv,{children:["Gi\xe1 (",n," S\u1ea3n ph\u1ea9m)"]}),(0,l.jsxs)(a.xv,{children:[t.toLocaleString("vi-VN",{style:"currency",currency:"VND"})," "]})]}),(0,l.jsxs)(a.kC,{justifyContent:"space-between",children:[(0,l.jsx)(a.xv,{children:"Ph\xed giao h\xe0ng"}),(0,l.jsx)(a.xv,{color:"green",children:"FREE"})]}),(0,l.jsx)(a.iz,{}),(0,l.jsxs)(a.kC,{justifyContent:"space-between",children:[(0,l.jsx)(a.xv,{children:"Gi\u1ea3m gi\xe1"}),(0,l.jsx)(a.xv,{children:i.toLocaleString("vi-VN",{style:"currency",currency:"VND"})})]}),(0,l.jsx)(a.iz,{}),(0,l.jsxs)(a.kC,{justifyContent:"space-between",fontWeight:"bold",marginBottom:"20px",children:[(0,l.jsx)(a.xv,{children:"T\u1ed5ng h\xf3a \u0111\u01a1n"}),(0,l.jsx)(a.xv,{children:r.toLocaleString("vi-VN",{style:"currency",currency:"VND"})})]}),(0,l.jsx)(a.iz,{})]})})]})]}),(0,l.jsx)(a.kC,{children:(0,l.jsx)(a.X6,{fontSize:"13px",fontWeight:"500",lineHeight:1.5,color:"rgb(102, 102, 102)",marginTop:"1",marginBottom:"2",children:"Thanh to\xe1n \u0111\u1ea3m b\u1ea3o. \u0110\u1ed5i tr\u1ea3 d\u1ec5 d\xe0ng. 100% h\xe0ng ch\xednh h\xe3ng"})})]})},w=t(6286),v=t(2685),D=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("https://duantn-backend.onrender.com/cart");case 3:return n=e.sent,e.next=6,n.data;case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e.cart})),t=n.loading,u=n.data,h=(n.error,n.dataLength),x=n.totalPrice,p=n.paybalPrice,f=n.coupon,b=(0,c.useState)(""),k=(0,r.Z)(b,2),D=k[0],T=k[1],S=(0,s.pm)(),I=(0,c.useState)(!1),z=(0,r.Z)(I,2),Z=z[0],A=z[1],N=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.delete("https://duantn-backend.onrender.com/cart/".concat(n));case 3:e.sent,A(!Z),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){e(function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:v.nx}),e.prev=1,t=C.Z.get("token"),e.next=5,m.Z.get("https://duantn-backend.onrender.com/cart/",{headers:{Authorization:"Bearer ".concat(t)}});case 5:r=e.sent,n({type:v.eV,payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n({type:v.Lb,error:"C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb API."});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}())}),[Z]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{backgroundColor:"#4a90e2",textEmphasisColor:"white",textAlign:"center",width:"100%",padding:"10px",boxSizing:"border-box",marginBottom:"20px",animation:"blink 3s infinite"},children:"H\xe3y \xe1p d\u1ee5ng m\xe3 gi\u1ea3m gi\xe1 : MASAI40"}),(0,l.jsx)("style",{children:"\n        @keyframes blink {\n          0% {\n            color: black;\n          }\n          50% {\n            color: white;\n          }\n          100% {\n            color: yellow;\n          }\n        }\n      "}),(0,l.jsxs)(a.kC,{border:"0px solid red",margin:"auto",width:"95%",paddingX:"20px",flexDirection:{base:"column",sm:"column",md:"column",lg:"row",xl:"row","2xl":"row"},children:[(0,l.jsxs)(a.kC,{flexDirection:"column",border:"0px solid blue",width:{base:"100%",sm:"100%",md:"100%",lg:"70%",xl:"70%","2xl":"70%"},gap:"4",children:[(0,l.jsx)(d,{item:h}),t&&(0,l.jsx)(a.M5,{children:(0,l.jsx)(w.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})}),u.map((function(e){return(0,l.jsx)(j,{cartID:e.cartID,name:e.prodName,img:e.prodImg,price:e.prodPrice,id:e.prodID,quantity:e.quantity,DeleteRequest:N},e.prodID)}))]}),(0,l.jsx)(a.kC,{border:"0px solid green",width:{base:"100%",sm:"100%",md:"100%",lg:"30%",xl:"30%","2xl":"30%"},children:(0,l.jsx)(y,{items:h,totalPrice:x,paybalPrice:p,setVal:T,handleApply:function(){"MASAI40"===D?(e({type:"code",payload:D}),T(""),S({title:"Successful",description:"M\xe3 gi\u1ea3m gi\xe1 \u0111\xe3 \xe1p d\u1ee5ng th\xe0nh c\xf4ng",status:"success",duration:9e3,isClosable:!0,position:"top"})):S({title:"Error",description:"M\xe3 gi\u1ea3m gi\xe1 sai",status:"warning",duration:9e3,isClosable:!0,position:"top"})},discount:f})})]})]})}}}]);
//# sourceMappingURL=938.7997562d.chunk.js.map